Perfect â€” below is a **clear, developer-grade bug report prompt** you can paste **directly into Replit AI / Replit Agent**.
Itâ€™s written so the agent understands **whatâ€™s broken, when it breaks, and what to fix**.

---

## ðŸž Replit Bug-Fix Prompt (UI scroll + dropdown issue)

**Prompt to paste into Replit AI:**

> **Bug description:**
> There is a UI interaction bug that occurs **only while audio is playing**.
>
> **Observed behavior:**
> When music is playing:
>
> * The **settings panel cannot scroll horizontally** (left â†” right).
> * **Dropdown menus inside the settings panel do not open or respond to clicks**.
> * Scrolling and dropdowns work normally **when audio is paused or stopped**.
>
> **Expected behavior:**
>
> * The settings panel should remain fully interactive while audio is playing.
> * Horizontal scrolling (trackpad / mouse / touch) must work.
> * Dropdown menus should open and be clickable regardless of audio playback state.
>
> **Environment details:**
>
> * React + Vite
> * @react-three/fiber (R3F) for visuals
> * @react-three/postprocessing
> * Web Audio API for audio playback
> * UI panel overlays a `<Canvas>` element
>
> **Likely causes to investigate:**
>
> 1. The `<Canvas>` or a full-screen element is **capturing pointer / wheel / touch events** while audio is playing.
> 2. `pointer-events`, `touch-action`, or `overflow` CSS is being altered dynamically during playback.
> 3. A global event listener (e.g. `wheel`, `touchmove`, `pointerdown`) is calling `preventDefault()` when audio is active.
> 4. The R3F canvas or postprocessing layer may have a higher `z-index` or active event handlers blocking UI interaction.
>
> **What to fix:**
>
> * Ensure the settings panel **always receives pointer and scroll events**.
> * The Three.js / R3F canvas should **not block UI interactions** when controls are visible.
> * Dropdown components must not be blocked by the canvas or global listeners.
>
> **Suggested fixes (implement if applicable):**
>
> * Add `pointer-events: none` to the canvas **when the settings panel is open**, and `pointer-events: auto` when closed.
> * Explicitly set:
>
>   ```css
>   .settings-panel {
>     pointer-events: auto;
>     overflow-x: auto;
>     touch-action: pan-x pan-y;
>   }
>   canvas {
>     pointer-events: none;
>   }
>   ```
> * Review any `addEventListener('wheel' | 'touchmove')` handlers and remove `preventDefault()` unless absolutely required.
> * Confirm dropdown portals (if used) are not rendering behind the canvas.
>
> **Goal:**
> Fix the event handling so **audio playback does not interfere with UI scrolling or dropdown interaction**.

---

## ðŸ” Why this happens (for your understanding)

This is a **classic WebGL + UI overlay issue**:

* When audio starts, something changes:

  * a full-screen canvas becomes â€œinteractiveâ€
  * or a global event listener activates
* The canvas then **steals scroll & click events**
* UI *looks* visible but becomes **non-interactive**

This is **very common** with:

* R3F
* Fullscreen canvases
* Gesture / wheel listeners
* Mobile + trackpad scrolling

---

## âœ… If Replit asks follow-ups, answer like this

**Q: Does this happen only during playback?**

> Yes, only while audio is actively playing.

**Q: Does pausing audio fix it?**

> Yes, pausing audio immediately restores scrolling and dropdown interaction.

**Q: Is the settings panel inside or outside the Canvas?**

> Outside the Canvas, but visually overlaying it.

---